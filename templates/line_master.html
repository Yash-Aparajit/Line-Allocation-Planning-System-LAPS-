{% extends "layout.html" %}
{% block content %}

<h4 class="mb-4 fw-semibold">Line Master</h4>

<!-- ================= ADD NEW LINE ================= -->
<div class="card p-4 mb-4 section primary">
  <form method="post" class="row g-2 align-items-end">
    <div class="col-md-6">
      <label class="form-label fw-semibold">Add New Assembly Line</label>
      <input
        name="line_name"
        class="form-control"
        required>
    </div>
    <div class="col-md-3">
      <button class="btn btn-primary w-100">
        Add Line
      </button>
    </div>
  </form>
</div>

<!-- ================= LINE LIST ================= -->
<div class="card section">
  <div class="card-header bg-white fw-semibold">
    Existing Lines
  </div>

  <div class="table-responsive">
    <table class="table table-sm table-hover mb-0">
      <thead>
        <tr>
          <th style="width: 70%">Line Name</th>
          <th style="width: 30%" class="text-end">Action</th>
        </tr>
      </thead>
      <tbody>

      {% if lines %}
        {% for l in lines %}
        <tr>
          <td class="fw-semibold align-middle">
            {{ l.name }}
          </td>
          <td class="text-end">
            <a href="{{ url_for('line_activities', line_id=l.id) }}"
               class="btn btn-outline-primary btn-sm">
              Edit Activities
            </a>
          </td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="2" class="text-center text-muted py-3">
            No lines created yet
          </td>
        </tr>
      {% endif %}

      </tbody>
    </table>
  </div>
</div>

{% endblock %}

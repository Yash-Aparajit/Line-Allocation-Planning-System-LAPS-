{% extends "layout.html" %}
{% block content %}

<h4 class="mb-2 fw-semibold text-danger">Reset User Password</h4>
<p class="text-muted mb-4">
  Developer-only action. This will immediately reset the selected userâ€™s password.
</p>

<div class="card" style="max-width: 520px;">
  <div class="card-body">

    <form method="post">

      <div class="mb-3">
        <label class="form-label fw-semibold">Select User</label>
        <select name="user_id"
                class="form-select"
                required>
          <option value="">Select user</option>
          {% for u in users %}
            <option value="{{ u.id }}">
              {{ u.username }} ({{ u.role }})
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-4">
        <label class="form-label fw-semibold">New Password</label>
        <input type="password"
               name="new_password"
               class="form-control"
               required>
      </div>

      <div class="d-flex gap-2">
        <button class="btn btn-danger"
                onclick="return confirm('Reset password for this user?')">
          Reset Password
        </button>

        <a href="{{ url_for('line_master') }}"
           class="btn btn-outline-secondary">
          Cancel
        </a>
      </div>

    </form>

  </div>
</div>

{% endblock %}
